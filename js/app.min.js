document.addEventListener("DOMContentLoaded",(()=>{function e(){const e=document.querySelector(".container").offsetWidth;window.innerWidth>=768&&(document.querySelector(".header__offcanvas").style.width=e-30+"px")}function t(){const e=document.querySelectorAll(".dropdown");window.innerWidth<=768&&e.forEach((e=>{const t=e.querySelector("h3"),r=e.querySelector("ul");t.setAttribute("data-bs-toggle","dropdown"),t.setAttribute("aria-expanded","false"),r.classList.add("dropdown-menu")})),window.innerWidth>768&&e.forEach((e=>{e.querySelector("ul").classList.remove("dropdown-menu")}))}window.addEventListener("resize",(()=>{e(),t()})),window.addEventListener("DOMContentLoaded",(()=>{e(),t()}));const r=document.querySelectorAll('input[type="tel"]');new Inputmask("+7 (999) 999-99-99").mask(r);const o=document.querySelectorAll("[data-change-color]"),a=new IntersectionObserver(((e,t)=>{e.forEach((e=>{const t=e.isIntersecting;e.target.style.backgroundColor=t?"#fff":"#f4f0f0"}))}),{rootMargin:"-25% 0px -25% 0px",threshold:1});o.forEach((e=>{a.observe(e)}));new Swiper(".swiper",{direction:"horizontal",loop:!0,breakpoints:{320:{slidesPerView:1},768:{slidesPerView:2,spaceBetween:12},992:{slidesPerView:2.5,spaceBetween:24}},navigation:{nextEl:".presentation__btn-next",prevEl:".presentation__btn-prev"}});new class{constructor(e){this.accordion=document.querySelector(e),null!=this.accordion&&(this.items=this.accordion.querySelectorAll(".situation__accordion-item"),this.items.length&&this.events())}events(){this.items.forEach((e=>{e.addEventListener("click",(()=>{this.toggleItem(e)}))}))}toggleItem(e){this.closeAll(),e.classList.add("active")}closeAll(){this.items.forEach((e=>{e.classList.remove("active")}))}}(".situation__accordion");new class{constructor(e){this.selects=document.querySelectorAll(`[${e.selects}]`),this.periodHeader=document.querySelector(`[${e.periodHeader}]`),this.periodItem=document.querySelectorAll(`li[${e.itemPeriod}]`),this.basicCard=document.querySelector(`[${e.basicCard}]`),this.standartCard=document.querySelector(`[${e.standartCard}]`),this.professionalCard=document.querySelector(`[${e.professionalCard}]`),this.enterpriseCard=document.querySelector(`[${e.enterpriseCard}]`),this.discountBadge=document.querySelectorAll(`[${e.discountBadge}]`),this.userSelect=document.querySelector(`[${e.userSelect}]`),this.userSelectItem=document.querySelectorAll(`[${e.userSelectItem}]`),this.selectItems=e.selectItems,this.addEvents()}addEvents(){const e=this.getDataKey(),t=this.getArray(e);this.selects.forEach((e=>{e.addEventListener("click",(t=>{this.toggleActive(e)}))})),this.periodItem.forEach((e=>{e.addEventListener("click",(r=>{this.choosePeriod(e),this.render(t)}))})),this.userSelectItem.forEach((e=>{e.addEventListener("click",(r=>{this.chooseUserCount(e),this.render(t)}))}))}render(e){const t=this.userSelect.querySelector(".count").innerText;this.discountBadge.forEach((e=>{this.getDataKey()<=1?e.classList.add("d-none"):e.classList.remove("d-none")})),this.basicCard.querySelector(".number").textContent=e.basic.value,this.basicCard.querySelector(".cost").textContent=e.basic.old,this.standartCard.querySelector(".number").textContent=e.standart.value,this.standartCard.querySelector(".cost").textContent=e.standart.old,this.professionalCard.querySelector(".number").textContent=e.prof.value,this.professionalCard.querySelector(".cost").textContent=e.prof.old,this.enterpriseCard.querySelector(".number").textContent=e.enter[t].value,this.enterpriseCard.querySelector(".cost").textContent=e.enter[t].old}toggleActive(e){e.classList.toggle("active")}choosePeriod(e){this.periodHeader.innerHTML=e.innerHTML,this.periodHeader.dataset.key=e.dataset.key}chooseUserCount(e){this.userSelect.querySelector(".count").innerText=e.innerText}getArray(e){return this.selectItems[e]}getDataKey(){return this.periodHeader.dataset.key}}({selects:"data-select",periodHeader:"data-select-header-discount",userSelect:"data-select-header-user",userSelectItem:"data-user-select",discountBadge:"data-tarif-old-cost",itemPeriod:"data-key",selectText:"data-select-text",basicCard:"data-basic-card",standartCard:"data-standart-card",professionalCard:"data-professional-card",enterpriseCard:"data-enterprise-card",selectItems:[{basic:{value:2490,old:""},standart:{value:6990,old:""},prof:{value:13990,old:""},enter:{250:{value:33990,old:""},500:{value:59990,old:""},1e3:{value:99990,old:""},2e3:{value:199990,old:""},3e3:{value:299990,old:""},4e3:{value:399990,old:""},5e3:{value:499990,old:""},6e3:{value:599990,old:""},7e3:{value:699990,old:""},8e3:{value:799990,old:""},9e3:{value:899990,old:""},1e4:{value:999990,old:""}}},{basic:{value:2490,old:""},standart:{value:6990,old:""},prof:{value:13990,old:""},enter:{250:{value:33990,old:""},500:{value:59990,old:""},1e3:{value:99990,old:""},2e3:{value:199990,old:""},3e3:{value:299990,old:""},4e3:{value:399990,old:""},5e3:{value:499990,old:""},6e3:{value:599990,old:""},7e3:{value:699990,old:""},8e3:{value:799990,old:""},9e3:{value:899990,old:""},1e4:{value:999990,old:""}}},{basic:{value:1990,old:2490},standart:{value:5590,old:6990},prof:{value:11190,old:13990},enter:{250:{value:27190,old:33990},500:{value:47990,old:59990},1e3:{value:79990,old:99990},2e3:{value:159990,old:199990},3e3:{value:239990,old:299990},4e3:{value:319990,old:399990},5e3:{value:399990,old:499990},6e3:{value:479990,old:599990},7e3:{value:559990,old:699990},8e3:{value:639990,old:799990},9e3:{value:719990,old:899990},1e4:{value:799990,old:999990}}}]})}));